게시글 목록 조회를 위한 작업 순서 정리

1. 사전 준비
  - pagination 패키지 추가
  - Criteria 클래스 추가(노션 참고)
    - Criteria 클래스에 게시판 번호를 추가하거나 Criteria 클래스를 상속받은 PostCriteria 클래스를 추가하여 필드를 추가
  - PageMaker 클래스 추가(노션 참고)
2. 컨트롤러
  - 매개변수로 Criteria 객체를 추가
  - 기존에 있던 게시판 번호를 제거하면서 게시판 번호를 사용하는 부분을 수정
  - 서비스에게 게시판 번호를 주면서 시켰던 작업을 Criteria 객체를 주면서 시킴
  - New : 서비스에게 현재 페이지 정보를 주면서 PageMaker 객체를 가져오라고 요청 후 화면에 전달
  - 선택 : 한페이지의 컨텐츠 수를 원하는 크기로 설정
3. 서비스/서비스임플
  - 게시판 번호를 Criteria 객체로 수정
  - New : 메소드를 추가. 현재 페이지 정보에 맞는 전체 게시글수를 가져온 후, 이를 이용하여 PageMaker 객체를 생성해서 반환
4. 다오/매퍼
  - 다오는 게시판 번호를 Criteria 객체로 수정
  - 매퍼는 limit을 이용하여 게시글 개수를 조절
  - New : 메소드 및 쿼리를 추가. 쿼리는 게시글 목록 조회를 참고하여 작성
5. list.jsp
  - PageMaker를 이용하여 페이지네이션을 구현

게시글 목록 검색
1. list.jsp
  - 검색 타입, 검색어 입력창, 검색버튼을 form태그로 감싸서 추가
  - 검색 타입은 전체(0), 제목+내용(1), 작성자(2)
  - form태그의 action은 /post/list
  - form태그 안에 hidden으로 게시판 번호를 넘겨줌

2. 매퍼
  - 검색어인 search와 검색 타입을 type을 이용하여 쿼리를 수정
    - selectPostList
    - selectCountPostList

3. list.jsp
  - 페이지네이션링크에 검색어와 타입을 적용 



댓글 구현을 위한 파일들을 추가
 - CommentController, CommentService, CommentServiceImp, CommentDAO, CommentMapper를 추가하고 필드로 연결
 - CommentVO 추가

댓글 등록
1. /post/detail.jsp
  - 댓글 화면을 구성
    - form태그를 이용. action은 생략해도 됨
2. 비동기 통신을 위한 작업
  - ajax를 위한 문서 참고
  - 의존성 추가 
    - json으로 데이터를 주고 받기 위해서 
3. /post.detail.jsp
  - 등록 버튼을 클릭해서 전송을 하면 비동기통신으로 서버에 전송
     - url : /comment/insert
     - 보낼 데이터 : 게시글 번호, 댓글 내용
     - 받을 데이터 : 등록 여부
4. 컨트롤러
  - 메소드 추가
    - @ResponseBody 추가하지 않음
    - 매개변수에 @RequestBody를 이용하여 Criteria 객체에 저장
    - 현재 페이지정보(Criteria 객체)를 이용하여 댓글 목록을 요청하여 화면에 전송
    - 현재 페이지정보를 이용하여 댓글 페이지메이커를 요청하여 화면에 전송
5. 서비스/서비스 임플
  - 메소드 추가 및 구현
6. 다오/매퍼 
  - 메소드 추가 및 쿼리 구현
7. /comment/list.jsp
  - 생성 및 서버에서 보낸 댓글 목록과 댓글 페이지네이션을 이용하여 화면을 구성
8. /post/detail.jsp
  - 서버에서 보낸 문자열을 html코드로 댓글이 들어가야할 칸에 추가

댓글 목록 조회
1. detail.jsp
  - getCommentList()함수를 추가
    - 비동기 통신으로 댓글 페이지정보를 주면서 댓글 목록을 가져오라고 요청
    - url : /comment/list
    - 보낼 데이터 : 현재 페이지, 게시글번호
    - 받을 데이터 : 댓글 화면으로 구성된 문자열
2. 컨트롤러
  - 화면에서 요청한 목록을 주기 위한 메소드를 추가
    - 매개변수를 이용하여 화면에서 보내준 데이터를 가져옴
    - 빈 문자열을 반환(임시)

3. 컨트롤러 
  - 현재 페이지 정보를 이용하여 서비스에게 댓글을 가져오라고 요청
    - 가져온 댓글 목록을 콘솔에 출력
  - 현재 페이지 정보를 이용하여 서비스에게 페이지메이커를 가져오라고 요청
    - 가져온 페이지메이커를 콘솔에 출력

4. 서비스/서비스임플
  - 현재 페이지정보를 이용하여 댓글 목록을 가져오는 메소드 추가
    - 다오에게 현재 페이지 정보를 주면서 댓글 목록을 가져오라고 요청후 반환
  - 현재 페이지정보를 이용하여 페이지메이커를 가져오는 메소드 추가
    - 다오에게 현재 페이지 정보를 주면서 전체 댓글 수를 가져오라고 요청
    - 전체 댓글 수를 이용하여 페이지메이커를 생성하여 반환

5. 다오/매퍼
  - 현재 페이지정보를 이용하여 댓글 목록을 가져오는 메소드 추가 및 쿼리 구현
    - 게시글 번호를 이용하여 댓글목록을 가져옴.
    - co_ori_num을 기준으로 내림차순, ori_num을 기준으로 오름차순이 되게 정렬(order by)
    - 현재 페이지에 맞게 댓글들을 뽑아서 가져옴(limit)
  - 현재 페이지정보를 이용하여 전체 댓글 수를 가져오는 메소드 추가 및 쿼리 구현
    - 위에서 작성한 쿼리를 복붙. 속성들 중에서 count(*)로 수정, limit절과 orderby절을 제거











